## TÃ¬m hiá»ƒu vá» Dynatrace
### 1. Smart scape topology
#### KhÃ¡i niá»‡m
![alt text](image.png)

GiÃºp trá»±c quan hÃ³a toÃ n bá»™ kiáº¿n trÃºc á»©ng dá»¥ng vÃ  háº¡ táº§ng theo thá»i gian thá»±c.

LÃ  cÃ´ng nghá»‡ báº£n Ä‘á»“ tÆ°Æ¡ng tÃ¡c, tá»± Ä‘á»™ng hiá»ƒn thá»‹ má»‘i quan há»‡ giá»¯a cÃ¡c thÃ nh pháº§n á»©ng dá»¥ng vÃ  háº¡ táº§ng.

ÄÆ°á»£c vÃ­ nhÆ° â€œGoogle Mapsâ€ cho kiáº¿n trÃºc á»©ng dá»¥ng: khÃ´ng cáº§n cáº¥u hÃ¬nh thá»§ cÃ´ng hay viáº¿t script.

#### TÃ­nh nÄƒng
* Tá»± Ä‘á»™ng phÃ¡t hiá»‡n: OneAgent tá»± Ä‘á»™ng khÃ¡m phÃ¡ cÃ¡c thÃ nh pháº§n vÃ  phá»¥ thuá»™c trong mÃ´i trÆ°á»ng á»©ng dá»¥ng.
* Quan sÃ¡t 5 lá»›p:
  - á»¨ng dá»¥ng
  - Dá»‹ch vá»¥
  - Quy trÃ¬nh (process)
  - MÃ¡y chá»§ (host)
  - Trung tÃ¢m dá»¯ liá»‡u (datacenter)
* Hiá»ƒn thá»‹ phá»¥ thuá»™c:
  * **Chiá»u ngang**: giá»¯a cÃ¡c thÃ nh pháº§n cÃ¹ng loáº¡i (vÃ­ dá»¥: service â†” service).
  * **Chiá»u dá»c**: giá»¯a cÃ¡c táº§ng khÃ¡c nhau (vÃ­ dá»¥: datacenter â†’ host â†’ process â†’ service â†’ application).

### 2. One agent


## TÃ¬m hiá»ƒu vá» Prometheus, Grafana, Alert manager
### Prometheus
Sá»­ dá»¥ng cÃ¡c exporter Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u tá»« server, pháº§n má»m, Ä‘Ã¡nh giÃ¡ nhá»¯ng metric nÃ y vÃ  Ä‘Æ°a ra cáº£nh bÃ¡o tÃ¹y theo tiÃªu chÃ­ Ä‘Ã£ Ä‘áº·t.

Exporter lÃ  nhá»¯ng pháº§n má»m cÃ³ vai trÃ² thu tháº­p sá»‘ liá»‡u tá»« cÃ¡c á»©ng dá»¥ng, server vÃ  Ä‘á»•i thÃ nh Ä‘á»‹nh dáº¡ng mÃ  prometheus cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c
CÃ³ nhiá»u loáº¡i exporter:
â€¢	System exporter: giÃ¡m sÃ¡t server, cÃ¡c thiáº¿t bá»‹ trong máº¡ng qua snmp
â€¢	Application exporter: má»—i á»©ng dá»¥ng cÃ³ má»™t exporter riÃªng Ä‘á»ƒ giÃ¡m sÃ¡t
â€¢	Runtime exporter: giÃ¡m sÃ¡t cÃ¡c á»©ng dá»¥ng runtime 
â€¢	Container/ cloud exporter: giÃ¡m sÃ¡t cÃ¡c dá»‹ch vá»¥ cloud nhÆ° cá»§a Amazon vÃ  cÃ¡c container trong docker
â€¢	Custom/ User-defined exporter: tá»± viáº¿t exporter

### Grafana
Trá»±c quan hÃ³a dá»¯ liá»‡u tá»« Prometheus.

### Alert manager
Cáº£nh bÃ¡o cho end user khi phÃ¡t hiá»‡n cÃ³ báº¥t thÆ°á»ng.

## CÃ¡c tool giÃ¡m sÃ¡t, Ä‘á»c dá»¯ liá»‡u


## Metrics, Logs, Traces

Ba khÃ¡i niá»‡m Metrics, Logs vÃ  Traces lÃ  ba loáº¡i dá»¯ liá»‡u cá»‘t lÃµi trong Observability (kháº£ nÄƒng quan sÃ¡t, giÃ¡m sÃ¡t há»‡ thá»‘ng pháº§n má»m). Má»—i loáº¡i cung cáº¥p má»™t gÃ³c nhÃ¬n khÃ¡c nhau vá» tráº¡ng thÃ¡i vÃ  hÃ nh vi cá»§a há»‡ thá»‘ng.

### 1. Metrics â€“ Dá»¯ liá»‡u Ä‘á»‹nh lÆ°á»£ng (sá»‘ liá»‡u)
ğŸ“Œ LÃ  gÃ¬?
LÃ  dá»¯ liá»‡u dáº¡ng sá»‘, Ä‘Æ°á»£c thu tháº­p liÃªn tá»¥c theo thá»i gian.

VÃ­ dá»¥: CPU 75%, 1200 request/second, 50ms response time

ğŸ” DÃ¹ng Ä‘á»ƒ lÃ m gÃ¬?
* Theo dÃµi hiá»‡u suáº¥t, sá»©c khá»e cá»§a há»‡ thá»‘ng
* Hiá»ƒn thá»‹ trong biá»ƒu Ä‘á»“ (Grafana, Prometheus)

ğŸ§  Äáº·c Ä‘iá»ƒm:
* Nháº¹, dá»… lÆ°u trá»¯
* CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ táº¡o alert (cáº£nh bÃ¡o) khi vÆ°á»£t ngÆ°á»¡ng

VÃ­ dá»¥:
| Thá»i gian | Metric           | GiÃ¡ trá»‹ |
| --------- | ---------------- | ------- |
| 08:00:00  | CPU Usage        | 68%     |
| 08:00:05  | API Latency      | 45ms    |
| 08:00:10  | Requests per sec | 1200    |

### 2. Logs â€“ Nháº­t kÃ½ sá»± kiá»‡n
ğŸ“Œ LÃ  gÃ¬?
LÃ  chuá»—i vÄƒn báº£n mÃ´ táº£ má»™t sá»± kiá»‡n trong há»‡ thá»‘ng.

VÃ­ dá»¥: ERROR: Cannot connect to database, User 123 logged in

ğŸ” DÃ¹ng Ä‘á»ƒ lÃ m gÃ¬?
* Debug lá»—i: tÃ¬m nguyÃªn nhÃ¢n sá»± cá»‘
* PhÃ¢n tÃ­ch chi tiáº¿t luá»“ng thá»±c thi
* Ghi láº¡i thÃ´ng tin báº£o máº­t, hÃ nh vi ngÆ°á»i dÃ¹ng

ğŸ§  Äáº·c Ä‘iá»ƒm:
* Dá»¯ liá»‡u phi cáº¥u trÃºc, nhiá»u thÃ´ng tin
* Náº·ng hÆ¡n metrics
* Cáº§n log collector Ä‘á»ƒ gom láº¡i: Fluentd, Logstash

### 3. Traces â€“ Dáº¥u váº¿t luá»“ng yÃªu cáº§u
ğŸ“Œ LÃ  gÃ¬?
LÃ  luá»“ng di chuyá»ƒn cá»§a má»™t request qua nhiá»u service khÃ¡c nhau.

GiÃºp báº¡n hiá»ƒu má»™t yÃªu cáº§u Ä‘i qua Ä‘Ã¢u, máº¥t thá»i gian á»Ÿ Ä‘Ã¢u.

ğŸ” DÃ¹ng Ä‘á»ƒ lÃ m gÃ¬?
- PhÃ¢n tÃ­ch hiá»‡u nÄƒng á»©ng dá»¥ng phÃ¢n tÃ¡n (microservice)
- XÃ¡c Ä‘á»‹nh bottleneck (nÃºt cá»• chai)
- TÃ¬m root cause (nguyÃªn nhÃ¢n gá»‘c) cho request cháº­m

ğŸ§  Äáº·c Ä‘iá»ƒm:
- Gá»“m nhiá»u span (Ä‘oáº¡n), má»—i span lÃ  1 service
- CÃ³ thá»ƒ visualize nhÆ° biá»ƒu Ä‘á»“ Gantt